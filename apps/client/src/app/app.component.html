<section id="header">
  <div class="container">
    <h1>MEAN Stack P2P Video Calling</h1>
  </div>
</section>

<section *ngIf="incomingCall">
  <p>New Incoming call from {{ callerInfo }}</p>
  <button (click)="acceptCall()">Accept Call</button>
</section>

<section id="user-media" *ngIf="isStreamAvailable">
  <div class="container">
    <div id="videos">
      <div>
        <video id="my-video" #videoRef autoplay></video>
        <div class="overlayText">
          <p id="topText">Me</p>
        </div>
      </div>
      <div>
        <video id="partner-video" #partnerVideoRef autoplay></video>
        <div class="overlayText">
          <p id="topText">Caller</p>
        </div>
      </div>
    </div>

    <div class="media-controls">
      <button (click)="toggleAudio()" class="btn btn-primary">Audio</button>
      <button (click)="toggleVideo()" class="btn btn-warning">Video</button>
      <button (click)="endCall()" class="btn btn-warning">End Call</button>
    </div>
  </div>
</section>

<section *ngIf="!isStreamAvailable">
  <h1>Something went wrong, please refresh the page.</h1>
</section>

<section class="online-users" *ngIf="onlineUsers?.length">
  <p>Online Users</p>
  <button *ngFor="let user of onlineUsers" (click)="callUser(user)">
    {{ user }}
  </button>
</section>
